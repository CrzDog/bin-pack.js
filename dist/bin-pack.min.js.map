{"version":3,"sources":["./dist/bin-pack.dev.js"],"names":["binpack","utils","[object Object]","node","rotated","height","width","simple_pack","nodes","padding","allowRotate","progress","curX","curY","maxY","hasError","len","length","i","rotatedWidth","rotatedHeight","x","y","id","Error","_insertNode","treeNode","right","pos","bottom","nodeWidth","nodeHeight","paddedWidth","paddedHeight","tree_pack","root","result","_cloneRect","rect","_containsRect","a","b","_scoreRect","freeRects","scores","score1","Number","MAX_VALUE","score2","newRect","found","freeRect","leftoverHoriz","leftoverVert","shortSideFit","longSideFit","Math","abs","floor","min","max","_splitFreeNode","freeNode","usedNode","newNode","push","_placeRect","splice","j","max_rect_pack","unhandledNodes","slice","bestScore1","bestScore2","bestNodeIdx","bestRect","bestNode","_compareByWidth","ret","localeCompare","_compareByHeight","_compareByArea","_compareByID","_compareByRotateWidth","a_size","b_size","_compareByRotateHeight","_pack","algorithm","pack","index","sortBy","order","sort","reverse","w","h","error","console"],"mappings":"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","file":"./dist/bin-pack.min.js"}