{"version":3,"sources":["./dist/bin-pack.dev.js"],"names":["binpack","utils","[object Object]","node","rotated","height","width","simple_pack","nodes","padding","allowRotate","progress","curX","curY","maxY","hasError","len","length","i","rotatedWidth","rotatedHeight","x","y","id","Error","_insertNode","treeNode","right","pos","bottom","nodeWidth","nodeHeight","paddedWidth","paddedHeight","tree_pack","root","result","_cloneRect","rect","_containsRect","a","b","_scoreRect","freeRects","scores","score1","Number","MAX_VALUE","score2","newRect","found","freeRect","leftoverHoriz","leftoverVert","shortSideFit","longSideFit","Math","abs","floor","min","max","_splitFreeNode","freeNode","usedNode","newNode","push","_placeRect","splice","_pruneFreeRects","j","max_rect_pack","unhandledNodes","slice","bestScore1","bestScore2","bestNodeIdx","bestRect","bestNode","_compareByWidth","ret","_compareByID","_compareByHeight","_compareByArea","localeCompare","_compareByRotatedWidth","a_size","b_size","_compareByRotatedHeight","_pack","algorithm","pack","index","sortBy","order","sort","reverse","w","h","error","console"],"mappings":"AAOA,IAAIA,QAAW,WACf,aAEA,IAAIC,GACFC,aAAcC,GACZ,OAAOA,EAAKC,QAAUD,EAAKE,OAASF,EAAKG,OAG3CJ,cAAeC,GACb,OAAOA,EAAKC,QAAUD,EAAKG,MAAQH,EAAKE,SAI5C,IAAIE,EAAc,SAAUC,EAAOF,EAAOD,EAAQI,EAASC,EAAaC,GACtE,IAAIC,EAAO,EACX,IAAIC,EAAO,EACX,IAAIC,EAAO,EAEX,IAAIC,EAAW,MACf,IAAIC,EAAMR,EAAMS,OAEhB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,IAAOE,EAAG,CAC5B,IAAIf,EAAOK,EAAMU,GACjB,GAAIN,EAAOX,EAAMkB,aAAahB,GAAQG,EAAO,CAC3CM,EAAO,EACPC,EAAOA,EAAOC,EAAOL,EACrBK,EAAO,EAGT,GAAID,EAAOZ,EAAMmB,cAAcjB,GAAQE,EAAQ,CAC7CU,EAAW,KAGbZ,EAAKkB,EAAIT,EACTT,EAAKmB,EAAIT,EAETD,EAAOA,EAAOX,EAAMkB,aAAahB,GAAQM,EACzC,GAAIR,EAAMmB,cAAcjB,GAAQW,EAAM,CACpCA,EAAOb,EAAMmB,cAAcjB,GAG7B,GAAIQ,EAAU,CACZA,EAASO,EAAGF,EAAKb,EAAKoB,KAI1B,GAAIR,EAAU,CACZ,OAAO,IAAIS,MAAM,kBAIrB,SAASC,EAAYC,EAAUvB,EAAMM,EAASC,GAG5C,GAAIgB,EAASC,QAAU,KAAM,CAC3B,IAAIC,EAAMH,EAAYC,EAASC,MAAOxB,EAAMM,EAASC,GACrD,GAAIkB,EAAK,CACP,OAAOA,EAGT,OAAOH,EAAYC,EAASG,OAAQ1B,EAAMM,EAASC,GAIrD,IAAIoB,EAAY7B,EAAMkB,aAAahB,GACnC,IAAI4B,EAAa9B,EAAMmB,cAAcjB,GACrC,IAAI6B,EAAcF,EAAYrB,EAC9B,IAAIwB,EAAeF,EAAatB,EAGhC,GAAIqB,EAAYJ,EAASpB,OAASyB,EAAaL,EAASrB,OAAQ,CAC9D,GAAIK,IAAgB,MAAO,CACzB,OAAO,KAGT,GAAIqB,EAAaL,EAASpB,OAASwB,EAAYJ,EAASrB,OAAQ,CAC9D,OAAO,KAGTF,EAAKC,SAAWD,EAAKC,QACrB0B,EAAY7B,EAAMkB,aAAahB,GAC/B4B,EAAa9B,EAAMmB,cAAcjB,GACjC6B,EAAcF,EAAYrB,EAC1BwB,EAAeF,EAAatB,EAO9BiB,EAASC,OACPN,EAAGK,EAASL,EAAIW,EAChBV,EAAGI,EAASJ,EACZhB,MAAOoB,EAASpB,MAAQ0B,EACxB3B,OAAQ0B,EACRJ,MAAO,KACPE,OAAQ,MAIVH,EAASG,QACPR,EAAGK,EAASL,EACZC,EAAGI,EAASJ,EAAIW,EAChB3B,MAAOoB,EAASpB,MAChBD,OAAQqB,EAASrB,OAAS4B,EAC1BN,MAAO,KACPE,OAAQ,MAIV,OAASR,EAAGK,EAASL,EAAGC,EAAGI,EAASJ,GAGtC,IAAIY,EAAY,SAAU1B,EAAOF,EAAOD,EAAQI,EAASC,EAAaC,GACpE,IAAIwB,GACFd,EAAG,EACHC,EAAG,EACHhB,MAAOA,EACPD,OAAQA,EACRsB,MAAO,KACPE,OAAQ,MAGV,IAAIb,EAAMR,EAAMS,OAChB,IAAIF,EAAW,MAEf,IAAK,IAAIG,EAAI,EAAGA,EAAIF,IAAOE,EAAG,CAC5B,IAAIf,EAAOK,EAAMU,GACjB,IAAIkB,EAASX,EAAYU,EAAMhC,EAAMM,EAASC,GAC9C,GAAI0B,EAAQ,CACVjC,EAAKkB,EAAIe,EAAOf,EAChBlB,EAAKmB,EAAIc,EAAOd,MACX,CACLP,EAAW,KAGb,GAAIJ,EAAU,CACZA,EAASO,EAAGF,EAAKb,EAAKoB,KAI1B,GAAIR,EAAU,CACZ,OAAO,IAAIS,MAAM,kBAIrB,SAASa,EAAWC,GAClB,OACEjB,EAAGiB,EAAKjB,EACRC,EAAGgB,EAAKhB,EACRhB,MAAOgC,EAAKhC,MACZD,OAAQiC,EAAKjC,QAIjB,SAASkC,EAAcC,EAAGC,GACxB,GACED,EAAEnB,GAAKoB,EAAEpB,GACTmB,EAAEnB,EAAImB,EAAElC,OAASmC,EAAEpB,EAAIoB,EAAEnC,OACzBkC,EAAElB,GAAKmB,EAAEnB,GACTkB,EAAElB,EAAIkB,EAAEnC,QAAUoC,EAAEnB,EAAImB,EAAEpC,OAC1B,CACA,OAAO,KAGT,OAAO,MAGT,SAASqC,EAAWC,EAAWrC,EAAOD,EAAQK,EAAakC,GACzDA,EAAOC,OAASC,OAAOC,UACvBH,EAAOI,OAASF,OAAOC,UAEvB,IAAIE,GAAY5B,EAAG,EAAGC,EAAG,EAAGhB,MAAO,EAAGD,OAAQ,GAC9C,IAAI6C,EAAQ,MAGZ,IAAK,IAAIhC,EAAI,EAAGA,EAAIyB,EAAU1B,SAAUC,EAAG,CACzC,IAAIiC,EAAWR,EAAUzB,GAEzB,IAAIkC,EAAeC,EAAcC,EAAcC,EAE/C,GAAIJ,EAAS7C,OAASA,GAAS6C,EAAS9C,QAAUA,EAAQ,CACxD+C,EAAgBI,KAAKC,IAAID,KAAKE,MAAMP,EAAS7C,OAASA,GACtD+C,EAAeG,KAAKC,IAAID,KAAKE,MAAMP,EAAS9C,QAAUA,GACtDiD,EAAeE,KAAKG,IAAIP,EAAeC,GACvCE,EAAcC,KAAKI,IAAIR,EAAeC,GAEtC,GAAIC,EAAeV,EAAOC,QAAWS,IAAiBV,EAAOC,QAAUU,EAAcX,EAAOI,OAAS,CACnGC,EAAQ5B,EAAI8B,EAAS9B,EACrB4B,EAAQ3B,EAAI6B,EAAS7B,EACrB2B,EAAQ3C,MAAQA,EAChB2C,EAAQ5C,OAASA,EACjBuC,EAAOC,OAASS,EAChBV,EAAOI,OAASO,EAEhBL,EAAQ,MAKZ,GAAIxC,GAAeyC,EAAS7C,OAASD,GAAU8C,EAAS9C,QAAUC,EAAO,CACvE8C,EAAgBI,KAAKC,IAAID,KAAKE,MAAMP,EAAS7C,OAASD,GACtDgD,EAAeG,KAAKC,IAAID,KAAKE,MAAMP,EAAS9C,QAAUC,GACtDgD,EAAeE,KAAKG,IAAIP,EAAeC,GACvCE,EAAcC,KAAKI,IAAIR,EAAeC,GAEtC,GAAIC,EAAeV,EAAOC,QAAWS,IAAiBV,EAAOC,QAAUU,EAAcX,EAAOI,OAAS,CACnGC,EAAQ5B,EAAI8B,EAAS9B,EACrB4B,EAAQ3B,EAAI6B,EAAS7B,EACrB2B,EAAQ3C,MAAQD,EAChB4C,EAAQ5C,OAASC,EACjBsC,EAAOC,OAASS,EAChBV,EAAOI,OAASO,EAEhBL,EAAQ,OAMd,GAAIA,IAAU,MAAO,CACnBN,EAAOC,OAASC,OAAOC,UACvBH,EAAOI,OAASF,OAAOC,UAGzB,OAAOE,EAGT,SAASY,EAAelB,EAAWmB,EAAUC,GAE3C,GACEA,EAAS1C,GAAKyC,EAASzC,EAAIyC,EAASxD,OAASyD,EAAS1C,EAAI0C,EAASzD,OAASwD,EAASzC,GACrF0C,EAASzC,GAAKwC,EAASxC,EAAIwC,EAASzD,QAAU0D,EAASzC,EAAIyC,EAAS1D,QAAUyD,EAASxC,EACvF,CACA,OAAO,MAGT,GAAIyC,EAAS1C,EAAIyC,EAASzC,EAAIyC,EAASxD,OAASyD,EAAS1C,EAAI0C,EAASzD,MAAQwD,EAASzC,EAAG,CAExF,GAAI0C,EAASzC,EAAIwC,EAASxC,GAAKyC,EAASzC,EAAIwC,EAASxC,EAAIwC,EAASzD,OAAQ,CACxE,IAAI2D,EAAU3B,EAAWyB,GACzBE,EAAQ3D,OAAS0D,EAASzC,EAAI0C,EAAQ1C,EACtCqB,EAAUsB,KAAKD,GAIjB,GAAID,EAASzC,EAAIyC,EAAS1D,OAASyD,EAASxC,EAAIwC,EAASzD,OAAQ,CAC/D,IAAI2D,EAAU3B,EAAWyB,GACzBE,EAAQ1C,EAAIyC,EAASzC,EAAIyC,EAAS1D,OAClC2D,EAAQ3D,OAASyD,EAASxC,EAAIwC,EAASzD,QAAU0D,EAASzC,EAAIyC,EAAS1D,QACvEsC,EAAUsB,KAAKD,IAInB,GAAID,EAASzC,EAAIwC,EAASxC,EAAIwC,EAASzD,QAAU0D,EAASzC,EAAIyC,EAAS1D,OAASyD,EAASxC,EAAG,CAE1F,GAAIyC,EAAS1C,EAAIyC,EAASzC,GAAK0C,EAAS1C,EAAIyC,EAASzC,EAAIyC,EAASxD,MAAO,CACvE,IAAI0D,EAAU3B,EAAWyB,GACzBE,EAAQ1D,MAAQyD,EAAS1C,EAAI2C,EAAQ3C,EACrCsB,EAAUsB,KAAKD,GAIjB,GAAID,EAAS1C,EAAI0C,EAASzD,MAAQwD,EAASzC,EAAIyC,EAASxD,MAAO,CAC7D,IAAI0D,EAAU3B,EAAWyB,GACzBE,EAAQ3C,EAAI0C,EAAS1C,EAAI0C,EAASzD,MAClC0D,EAAQ1D,MAAQwD,EAASzC,EAAIyC,EAASxD,OAASyD,EAAS1C,EAAI0C,EAASzD,OACrEqC,EAAUsB,KAAKD,IAInB,OAAO,KAGT,SAASE,EAAWvB,EAAWL,GAG7B,IAAItB,EAAM2B,EAAU1B,OACpB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,IAAOE,EAAG,CAC5B,GAAI2C,EAAelB,EAAWA,EAAUzB,GAAIoB,GAAO,CACjDK,EAAUwB,OAAOjD,EAAG,KAClBA,IACAF,GAKNoD,EAAgBzB,GAGlB,SAASyB,EAAgBzB,GACvB,IAAK,IAAIzB,EAAI,EAAGA,EAAIyB,EAAU1B,SAAUC,EAAG,CACzC,IAAK,IAAImD,EAAInD,EAAI,EAAGmD,EAAI1B,EAAU1B,SAAUoD,EAAG,CAC7C,GAAI9B,EAAcI,EAAU0B,GAAI1B,EAAUzB,IAAK,CAC7CyB,EAAUwB,OAAOjD,EAAG,KAClBA,EACF,MAGF,GAAIqB,EAAcI,EAAUzB,GAAIyB,EAAU0B,IAAK,CAC7C1B,EAAUwB,OAAOE,EAAG,KAClBA,KAMV,IAAIC,EAAgB,SAAS9D,EAAOF,EAAOD,EAAQI,EAASC,EAAaC,GACvE,IAAIgC,KAGJA,EAAUsB,MACR5C,EAAG,EACHC,EAAG,EACHhB,MAAOA,EAAQG,EACfJ,OAAQA,EAASI,IAInB,IAAI8D,EAAiB/D,EAAMgE,QAC3B,IAAI5B,GACFC,OAAQC,OAAOC,UACfC,OAAQF,OAAOC,WAEjB,IAAI7B,EAAI,EACR,IAAIF,EAAMR,EAAMS,OAEhB,MAAOsD,EAAetD,OAAS,EAAG,CAChC,IAAIwD,EAAa3B,OAAOC,UACxB,IAAI2B,EAAa5B,OAAOC,UACxB,IAAI4B,GAAe,EACnB,IAAIC,GAAavD,EAAG,EAAGC,EAAG,EAAGhB,MAAO,EAAGD,OAAQ,GAE/C,IAAK,IAAIa,EAAI,EAAGA,EAAIqD,EAAetD,SAAUC,EAAG,CAC9C,IAAI+B,EAAUP,EACZC,EACA4B,EAAerD,GAAGZ,MAAQG,EAC1B8D,EAAerD,GAAGb,OAASI,EAC3BC,EACAkC,GAGF,GAAIA,EAAOC,OAAS4B,GAAe7B,EAAOC,SAAW4B,GAAc7B,EAAOI,OAAS0B,EAAa,CAC9FD,EAAa7B,EAAOC,OACpB6B,EAAa9B,EAAOI,OACpB4B,EAAW3B,EACX0B,EAAczD,GAIlB,GAAIyD,KAAiB,EAAG,CACtB,OAAO,IAAInD,MAAM,gBAGnB0C,EAAWvB,EAAWiC,GAGtB,IAAIC,EAAWN,EAAeJ,OAAOQ,EAAa,GAAG,GACrDE,EAASxD,EAAImC,KAAKE,MAAMkB,EAASvD,GACjCwD,EAASvD,EAAIkC,KAAKE,MAAMkB,EAAStD,GACjCuD,EAASzE,QAAWyE,EAASvE,MAAQG,IAAYmE,EAAStE,MAE1D,GAAIK,EAAU,CACZA,EAASO,EAAGF,EAAK6D,EAAStD,MAE1BL,IAQN,SAAS4D,EAAgBtC,EAAGC,GAC1B,IAAIsC,EAAMvC,EAAElC,MAAQmC,EAAEnC,MACtB,GAAIyE,IAAQ,EAAG,CACbA,EAAMC,EAAaxC,EAAEC,GAEvB,OAAOsC,EAGT,SAASE,EAAiBzC,EAAGC,GAC3B,IAAIsC,EAAMvC,EAAEnC,OAASoC,EAAEpC,OACvB,GAAI0E,IAAQ,EAAG,CACbA,EAAMC,EAAaxC,EAAEC,GAEvB,OAAOsC,EAGT,SAASG,EAAe1C,EAAGC,GACzB,IAAIsC,EAAMvC,EAAElC,MAAQkC,EAAEnC,OAASoC,EAAEnC,MAAQmC,EAAEpC,OAC3C,GAAI0E,IAAQ,EAAG,CACbA,EAAMC,EAAaxC,EAAEC,GAEvB,OAAOsC,EAGT,SAASC,EAAaxC,EAAGC,GACvB,UAAWD,EAAEjB,KAAO,SAAU,CAC5B,OAAOiB,EAAEjB,GAAG4D,cAAc1C,EAAElB,IAE9B,OAAOiB,EAAEjB,GAAKkB,EAAElB,GAGlB,SAAS6D,EAAuB5C,EAAGC,GACjC,IAAI4C,EAAS7C,EAAElC,MACf,GAAIkC,EAAEnC,OAASmC,EAAElC,MAAO,CACtB+E,EAAS7C,EAAEnC,OACXmC,EAAEpC,QAAU,KAGd,IAAIkF,EAAS7C,EAAEnC,MACf,GAAImC,EAAEpC,OAASoC,EAAEnC,MAAO,CACtBgF,EAAS7C,EAAEpC,OACXoC,EAAErC,QAAU,KAGd,IAAI2E,EAAMM,EAASC,EACnB,GAAIP,IAAQ,EAAG,CACbA,EAAMvC,EAAEjB,GAAG4D,cAAc1C,EAAElB,IAE7B,OAAOwD,EAGT,SAASQ,EAAwB/C,EAAGC,GAClC,IAAI4C,EAAS7C,EAAEnC,OACf,GAAImC,EAAElC,MAAQkC,EAAEnC,OAAQ,CACtBgF,EAAS7C,EAAElC,MACXkC,EAAEpC,QAAU,KAGd,IAAIkF,EAAS7C,EAAEpC,OACf,GAAIoC,EAAEnC,MAAQmC,EAAEpC,OAAQ,CACtBiF,EAAS7C,EAAEnC,MACXmC,EAAErC,QAAU,KAGd,IAAI2E,EAAMM,EAASC,EACnB,GAAIP,IAAQ,EAAG,CACbA,EAAMvC,EAAEjB,GAAG4D,cAAc1C,EAAElB,IAE7B,OAAOwD,EAGT,SAASS,EAAMhF,EAAOiF,EAAWnF,EAAOD,EAAQI,EAASC,EAAaC,GACpE,IAAI+E,EAAO,KAEX,GAAID,IAAc,SAAU,CAC1BC,EAAOnF,OACF,GAAIkF,IAAc,OAAQ,CAC/BC,EAAOxD,OACF,GAAIuD,IAAc,WAAY,CACnCC,EAAOpB,EAGT,OAAOoB,EAAKlF,EAAOF,EAAOD,EAAQI,EAASC,EAAaC,GAG1D,IAAIgF,GAQFzF,KAAKM,EAAOoF,EAAS,OAAQC,EAAQ,YAAanF,EAAc,MAE9D,IAAK,IAAIQ,EAAI,EAAGA,EAAIV,EAAMS,SAAUC,EAAG,CACrCV,EAAMU,GAAGd,QAAU,MAIrB,GAAIwF,IAAW,QAAS,CACtBpF,EAAMsF,KAAKpF,EAAc0E,EAAyBN,QAC7C,GAAIc,IAAW,SAAU,CAC9BpF,EAAMsF,KAAKpF,EAAc6E,EAA0BN,QAC9C,GAAIW,IAAW,OAAQ,CAC5BpF,EAAMsF,KAAKZ,OACN,CACL1E,EAAMsF,KAAKd,GAIb,GAAIa,IAAU,aAAc,CAC1BrF,EAAMuF,UAGR,OAAOvF,GAaTN,KAAKM,EAAOiF,EAAWnF,EAAOD,EAAQI,EAAU,EAAGC,EAAc,KAAMC,EAAW,MAChF,OAAO6E,EAAMhF,EAAOiF,EAAWnF,EAAOD,EAAQI,EAASC,EAAaC,IAatET,eAAeM,EAAOiF,EAAWnF,EAAQ,GAAID,EAAS,GAAII,EAAU,EAAGC,EAAc,KAAMC,EAAW,MACpG,IAAIqF,EAAI1F,EACR,IAAI2F,EAAI5F,EAER,MAAM,EAAG,CACP,IAAI6F,EAAQV,EAAMhF,EAAOiF,EAAWO,EAAGC,EAAGxF,EAASC,EAAaC,GAEhE,IAAKuF,EAAO,CACV,OAAO1F,EAGT,GAAIwF,IAAM,MAAQC,IAAM,KAAM,CAC5BE,QAAQD,MAAMA,GACd,OAAO1F,EAGT,GAAIwF,IAAMC,EAAG,CACXD,GAAK,MACA,CACLC,EAAID,MAMZ,OAAOL"}